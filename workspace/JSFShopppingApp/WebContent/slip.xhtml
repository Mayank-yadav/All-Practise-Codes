<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:jsf="http://xmlns.jcp.org/jsf"
     
            xmlns:p="http://primefaces.org/ui"
            xmlns:f="http://java.sun.com/jsf/facelets">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Payment Slip</title>

<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"></link>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>body{ background-image:url("http://thumbs.dreamstime.com/z/background-colorful-shopping-bags-discount-c-concept-vector-illustration-34074478.jpg") }</style>

<style>
.bg-1 { 
    background-color: #474e5d; /* Green */
    color: #ffffff;
    opacity:0.93;
}

.well{
opacity:0.93;
}


</style>
<script>
$(document).ready(function(){
	
   var i=0;
   var sum = 0;
   var total=0;
   $('#mytable .customerIDCell').each(function()
			{
			/* alert(i++); */
		    var value = $(this).text();
		    sum += parseFloat(value);
/* 			alert("sum:"+sum);
 */			
			});
	alert("final price: $ "+sum);
	 $('#output').text(sum);       

	
	
    
});
</script>
</h:head>

<h:body>
<div class="container">

	<br/>
    <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Cart:0</a>
    </div>
    <div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#">Page 1</a></li>
        <li><a href="#">Page 2</a></li>
        <li><a href="#">Page 3</a></li>
      </ul>
     
    
       <ul class="nav navbar-nav navbar-right">
        <li><a href="#about">Welcome:
        <h:outputFormat value="#{customerBean.username}"/>
        
        </a></li>
      <li><h:link value="Logout" outcome="index" /></li>
    </ul>
    
    </div>
  </div>
</nav>
<!-- navbar ends -->


<center><h3 >PaymentSlip</h3>
<table  id="mytable" class="table table-condensed" style="width:600px">
    <thead>
      <tr class="info">
       <!--  <th>Name</th> -->
        <th>Product</th>
        <th>Quantity</th>
        <th>BasePrice</th>
        <th>Sum(in $)</th>
      </tr>
    </thead>
    <tbody >
    <f:repeat value="#{cartBean.cart}" var="pay" >
      <tr class="active">
       <!--  <td><h:outputText value="#{customerBean.username}"/></td> -->
        <td><h:outputText value="#{pay.product}"/></td>
        <td><h:outputText value="#{pay.quantity}"/></td>
        <td ><h:outputText  value="#{pay.price}"/></td>
        <td class="customerIDCell"><h:outputText value="#{pay.sum}"/></td>
        
       	<h:inputHidden value="#{pay.price}"/>
        
      </tr>
      </f:repeat>
      <tr class="success" >
      <td colspan="3" style="text-align: center">Total:</td>
      <td>$<span  id="output">0</span></td>
      </tr>
    </tbody>
    
  </table>


</center>




</div>
       
</h:body>
 <footer  class="footer navbar-fixed-bottom" style="text-align:left;">
        <p style="color:white;">© Yash Technoloogies 2015</p>
      </footer>
</html>